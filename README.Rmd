---
output: github_document
---

```{r, include=FALSE}
knitr::opts_chunk$set(collapse = TRUE, comment = "#>")
```

# nflendzoneData

<!-- badges: start -->

[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://lifecycle.r-lib.org/articles/stages.html#experimental)
[![License: CC-BY-4.0](https://img.shields.io/badge/License-CC--BY--4.0-blue.svg)](LICENSE.md)

<!-- badges: end -->

This repository contains automated data releases for `nflendzone`, published via GitHub Actions and Releases. Download and query data using R, Python, or other tools.

## üîß Usage

* Download manually from the [Releases page](https://github.com/TylerPollard410/nflendzoneData/releases).
* Or programmatically in R:

```r
# Download the latest season_standings data
url <- sprintf("https://github.com/TylerPollard410/nflendzoneData/releases/download/season_standings/season_standings.rds")
download.file(url, "season_standings_latest.rds")
data <- readr::read_rds("season_standings_latest.rds")
```

You can similarly load data in Python or other languages by URL.

## üìä Automation Status

The table below shows which data sets are available and when they were last updated:

```{r status-table, echo=FALSE}
library(glue)
library(dplyr)
library(knitr)

tags <- tribble(
  ~tag,                  ~caption,                         ~workflow,
  "season_standings",    "Season standings (by season)",    "update_data.yml",
  "weekly_standings",    "Weekly standings",                "update_data.yml",
  "elo",                 "ELO ratings by season",           "update_data.yml",
  "srs",                 "SRS ratings by season",           "update_data.yml",
  "epa",                 "Season EPA summaries",            "update_data.yml",
  "scores",              "Game scores (all years)",         "update_data.yml",
  "series",              "Series-level summaries",           "update_data.yml",
  "turnover",            "Turnover stats",                  "update_data.yml",
  "redzone",             "Red zone efficiency",             "update_data.yml",
  "model_data_long",     "Long-form model data",            "update_data.yml",
  "model_data",          "Model-ready dataset",             "update_data.yml"
)

status_tbl <- tags %>%
  mutate(
    Status = glue("![{tag}_status](https://img.shields.io/github/actions/workflow/status/TylerPollard410/nflendzonePipeline/{workflow}?label={tag}&style=flat-square)"),
    `Last Updated` = glue("[![{tag}_updated](https://img.shields.io/badge/dynamic/json?color=blue&label=Last%20Updated&query=updated&url=https://github.com/TylerPollard410/nflendzoneData/releases/download/{tag}/timestamp.json)](https://github.com/TylerPollard410/nflendzoneData/releases/tag/{tag})")
  ) %>%
  select(Dataset = tag, Description = caption, Status, `Last Updated`)

knitr::kable(status_tbl, caption = "Automation status for nflendzone data releases.")
```

## About the Data

| Tag                | Description                             |
| ------------------ | --------------------------------------- |
| `season_standings` | Finalised standings for each NFL season |
| `weekly_standings` | Standings updated weekly                |
| `elo`              | Season-by-season ELO ratings            |
| `srs`              | Season-by-season SRS ratings            |
| `epa`              | Season expected points added summaries  |
| `scores`           | Game-level scores across all seasons    |
| `series`           | Head-to-head series stats               |
| `turnover`         | Turnovers by team/season                |
| `redzone`          | Red-zone efficiency metrics             |
| `model_data_long`  | Long-form dataset ready for modeling    |
| `model_data`       | Compact model-ready dataset             |

*(Update or expand description as needed.)*

## üóìÔ∏è Update Schedule

Data updates are triggered daily at 4 AM Eastern during the NFL season (September‚ÄìFebruary) via GitHub Actions in the `nflendzonePipeline` repo.

## ‚öñÔ∏è License

All data is released under [CC‚ÄëBY‚Äë4.0](LICENSE.md). If you use this data, please cite the repository and include a link to the corresponding release tag.
